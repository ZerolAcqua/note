
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://note.zerolacqua.top/paper/CV/SfM/Multicore_Bundle_Adjustment/">
      
      
        <link rel="prev" href="../Efficient_structure_from_motion_for_large-scale_UAV_images_A_review_and_a_comparison_of_SfM_tools/">
      
      
        <link rel="next" href="../Efficient_tree-structured_SfM_by_RANSAC_generalized_Procrustes_analysis/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.2.3">
    
    
      
        <title>Multicore Bundle Adjustment - 丘卡的笔记本</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.0e669242.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#multicore-bundle-adjustment" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../../.." title="丘卡的笔记本" class="md-header__button md-logo" aria-label="丘卡的笔记本" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            丘卡的笔记本
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Multicore Bundle Adjustment
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ZerolAcqua/note/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ZerolAcqua/note
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../RS/UAV/%E5%9F%BA%E4%BA%8E%E7%89%A9%E6%8E%A2%E9%A3%9E%E8%A1%8C%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%AD%A3%E5%B0%84%E5%BD%B1%E5%83%8F%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9C/" class="md-tabs__link">
          
  
    
  
  论文

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../course/Photogrammetry/%E8%BF%91%E6%99%AF%E6%91%84%E5%BD%B1%E6%B5%8B%E9%87%8F/" class="md-tabs__link">
          
  
    
  
  课程

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../programming/cpp/modern-cpp-features/" class="md-tabs__link">
          
  
    
  
  编程

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../cs/computer_system/Putting_the_You_in_CPU/" class="md-tabs__link">
          
  
    
  
  计算机

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../misc/photogrammetry/%E4%BA%91%E5%8F%B0%E6%97%8B%E8%BD%AC%E8%A7%92%E6%8D%A2%E7%AE%97/" class="md-tabs__link">
          
  
    
  
  杂项

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="丘卡的笔记本" class="md-nav__button md-logo" aria-label="丘卡的笔记本" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    丘卡的笔记本
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ZerolAcqua/note/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ZerolAcqua/note
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    首页
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    论文
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            论文
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            RS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1" >
        
          <label class="md-nav__link" for="__nav_2_1_1" id="__nav_2_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UAV
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_1">
            <span class="md-nav__icon md-icon"></span>
            UAV
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../RS/UAV/%E5%9F%BA%E4%BA%8E%E7%89%A9%E6%8E%A2%E9%A3%9E%E8%A1%8C%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%AD%A3%E5%B0%84%E5%BD%B1%E5%83%8F%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基于物探飞行模式的正射影像快速制作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../RS/UAV/%E4%B8%AD%E5%9B%BD%E5%85%89%E5%AD%A6%E5%8D%AB%E6%98%9F%E5%BD%B1%E5%83%8F%E5%8C%B9%E9%85%8D%E8%9E%8D%E5%90%88%E6%96%B9%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A combined image matching method for Chinese optical satellite imagery
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../RS/UAV/%E5%8D%97%E6%9E%81%E6%97%A0%E4%BA%BA%E6%9C%BA%E6%91%84%E5%BD%B1%E6%B5%8B%E9%87%8F%E8%AE%BA%E6%96%87%E6%A6%82%E8%A7%88/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    南极无人机摄影测量论文概览
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CV
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            CV
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" >
        
          <label class="md-nav__link" for="__nav_2_2_1" id="__nav_2_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    图像匹配
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_1">
            <span class="md-nav__icon md-icon"></span>
            图像匹配
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../image_matching/LBD%E7%BA%BF%E7%89%B9%E5%BE%81%E6%8F%8F%E8%BF%B0%E7%AE%97%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LBD 线特征描述算法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../image_matching/Sample4Geo_Hard_Negative_Sampling_for_Cross-View_Geo-Localisation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sample4Geo: Hard Negative Sampling for Cross-View Geo-Localisation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../image_matching/Image_Matching_from_Handcrafted_to_Deep_Features_A_Survey/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    从人工特征到深度特征的图像匹配调查
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2" checked>
        
          <label class="md-nav__link" for="__nav_2_2_2" id="__nav_2_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SfM
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2_2">
            <span class="md-nav__icon md-icon"></span>
            SfM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Structure-from-Motion_Revisited/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SfM 回顾（Colmap）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Skeletal_graphs_for_efficient_structure_from_motion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    用于高效 SfM 的骨架图
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Structure-and-motion_pipeline_on_a_hierarchical_cluster_tree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基于分层聚类树的 SfM 
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Improving_the_efficiency_of_hierarchical_structure-and-motion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    提高分层 SfM 效率
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Towards_Linear-Time_Incremental_Structure-from-Motion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    线性时间的增量式 SfM（VisualSFM）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Modeling_the_World_from_Internet_Photo_Collections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    通过互联网影像重建世界（Bundler）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Photo_Tourism_Exploring_Photo_Collections_in_3D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    相片旅行：在三维世界中浏览相片
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Building_Rome_in_a_Day/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    一天建成罗马
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Efficient_structure_from_motion_for_large-scale_UAV_images_A_review_and_a_comparison_of_SfM_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    大规模无人机影像的高效 SfM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    多核光束法平差
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    多核光束法平差
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1 介绍
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    2 理论背景
  </a>
  
    <nav class="md-nav" aria-label="2 理论背景">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    2.1 预条件共轭梯度法
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    3 并行实现
  </a>
  
    <nav class="md-nav" aria-label="3 并行实现">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    3.1 相关工作
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    3.2 并行化准则
  </a>
  
    <nav class="md-nav" aria-label="3.2 并行化准则">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321" class="md-nav__link">
    3.2.1 矩阵存储
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-cpu" class="md-nav__link">
    3.3 CPU 并行化
  </a>
  
    <nav class="md-nav" aria-label="3.3 CPU 并行化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331" class="md-nav__link">
    3.3.1 最大化处理器占用率
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332" class="md-nav__link">
    3.3.2 优化内存访问模式
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-gpu" class="md-nav__link">
    3.4 GPU 并行化
  </a>
  
    <nav class="md-nav" aria-label="3.4 GPU 并行化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341" class="md-nav__link">
    3.4.1 最大化处理器占用率
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342" class="md-nav__link">
    3.4.2 优化内存访问模式
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    4 准确度
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    5 实验
  </a>
  
    <nav class="md-nav" aria-label="5 实验">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    5.1 结果
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    6 结论
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    参考文献
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Efficient_tree-structured_SfM_by_RANSAC_generalized_Procrustes_analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基于 RANSAC 通用 Procrustes 分析的高效树状 SfM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Divide_and_Conquer_Efficient_Large_Scale_Structure_from_Motion_Using_Graph_Partitioning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用图分割的分治高效大规模 SfM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../SfM_on-the-fly%3A_A_robust_near_real-time_SfM_for_spatiotemporally_disordered_high-resolution_imagery_from_multiple_agents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    实时 SfM：一种面向多智能体时空无序高分辨率影像的鲁棒近实时 SfM 方法
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    课程
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            课程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    专业相关
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            专业相关
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_1" >
        
          <label class="md-nav__link" for="__nav_3_1_1" id="__nav_3_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    摄影测量
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_1">
            <span class="md-nav__icon md-icon"></span>
            摄影测量
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../course/Photogrammetry/%E8%BF%91%E6%99%AF%E6%91%84%E5%BD%B1%E6%B5%8B%E9%87%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    近景摄影测量
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../course/Photogrammetry/%E5%8D%AB%E6%98%9F%E6%91%84%E5%BD%B1%E6%B5%8B%E9%87%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    卫星摄影测量
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../course/Photogrammetry/%E6%95%B0%E5%AD%97%E6%91%84%E5%BD%B1%E6%B5%8B%E9%87%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数字摄影测量
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../course/Photogrammetry/%E8%A7%A3%E6%9E%90%E6%91%84%E5%BD%B1%E6%B5%8B%E9%87%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    解析摄影测量
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_2" >
        
          <label class="md-nav__link" for="__nav_3_1_2" id="__nav_3_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_2">
            <span class="md-nav__icon md-icon"></span>
            RS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../course/RS/%E9%81%A5%E6%84%9F%E5%9B%BE%E5%83%8F%E8%A7%A3%E8%AF%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    遥感图像解译
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_3" >
        
          <label class="md-nav__link" for="__nav_3_1_3" id="__nav_3_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    测绘
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_3">
            <span class="md-nav__icon md-icon"></span>
            测绘
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../course/geomatics/%E5%A4%A7%E5%9C%B0%E6%B5%8B%E9%87%8F%E5%AD%A6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    大地测量学
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_4" >
        
          <label class="md-nav__link" for="__nav_3_1_4" id="__nav_3_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CV
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_4">
            <span class="md-nav__icon md-icon"></span>
            CV
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../course/CV/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数字图像处理
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    专业之外
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            专业之外
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_1" >
        
          <label class="md-nav__link" for="__nav_3_2_1" id="__nav_3_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_1">
            <span class="md-nav__icon md-icon"></span>
            CS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../course/CS/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8A%80%E6%9C%AF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多媒体技术
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../course/CS/%E5%8D%97%E5%A4%A7%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9FPA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    南大计算机系统 PA
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" >
        
          <label class="md-nav__link" for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    others
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            others
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../course/others/%E9%80%BB%E8%BE%91%E5%AD%A6%E5%AF%BC%E8%AE%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    逻辑学导论
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../course/others/%E9%9F%B3%E4%B9%90%E6%AC%A3%E8%B5%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    音乐欣赏
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    编程
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            编程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    C++
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            C++
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../programming/cpp/modern-cpp-features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    现代 C++ 特性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../programming/cpp/Effective_Modern_C%2B%2B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Effective Modern C++
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../programming/cpp/head-first-design-pattern/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++ 实现 Headfirst 设计模式
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Rust
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Rust
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../programming/rust/%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    准备工作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../programming/rust/Rust%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rust 程序设计语言
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Julia
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Julia
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../programming/julia/%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    准备工作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../programming/julia/Julia_Data_Science/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Julia Data Science
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Git
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Git
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../programming/git/progit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Progit
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../programming/python/bibliometrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文献计量学作业
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    计算机
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            计算机
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    计算机系统
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            计算机系统
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cs/computer_system/Putting_the_You_in_CPU/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Putting the “You” in CPU
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    杂项
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            杂项
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    摄影测量
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            摄影测量
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../misc/photogrammetry/%E4%BA%91%E5%8F%B0%E6%97%8B%E8%BD%AC%E8%A7%92%E6%8D%A2%E7%AE%97/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    云台旋转角换算
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1 介绍
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    2 理论背景
  </a>
  
    <nav class="md-nav" aria-label="2 理论背景">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    2.1 预条件共轭梯度法
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    3 并行实现
  </a>
  
    <nav class="md-nav" aria-label="3 并行实现">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    3.1 相关工作
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    3.2 并行化准则
  </a>
  
    <nav class="md-nav" aria-label="3.2 并行化准则">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321" class="md-nav__link">
    3.2.1 矩阵存储
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-cpu" class="md-nav__link">
    3.3 CPU 并行化
  </a>
  
    <nav class="md-nav" aria-label="3.3 CPU 并行化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331" class="md-nav__link">
    3.3.1 最大化处理器占用率
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332" class="md-nav__link">
    3.3.2 优化内存访问模式
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-gpu" class="md-nav__link">
    3.4 GPU 并行化
  </a>
  
    <nav class="md-nav" aria-label="3.4 GPU 并行化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341" class="md-nav__link">
    3.4.1 最大化处理器占用率
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342" class="md-nav__link">
    3.4.2 优化内存访问模式
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    4 准确度
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    5 实验
  </a>
  
    <nav class="md-nav" aria-label="5 实验">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    5.1 结果
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    6 结论
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    参考文献
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="multicore-bundle-adjustment">Multicore Bundle Adjustment<a class="headerlink" href="#multicore-bundle-adjustment" title="Permanent link">¶</a></h1>
<div class="admonition info">
<p class="admonition-title">论文链接</p>
<p>原文：Changchang Wu, Sameer Agarwal, Brian Curless, Steven M. Seitz. <a href="https://doi.org/10.1109/CVPR.2011.5995552">Multicore bundle adjustment</a></p>
</div>
<h2 id="1">1 介绍<a class="headerlink" href="#1" title="Permanent link">¶</a></h2>
<p>CPU 与 GPU 加速能达到  SOTA 的 10 和 30 倍</p>
<h2 id="2">2 理论背景<a class="headerlink" href="#2" title="Permanent link">¶</a></h2>
<ul>
<li>
<p>光束法平差的任务</p>
<ul>
<li>根据同名影像上对应特征的位置（坐标），计算三维点的坐标、相机参数，使重投影误差最小。</li>
<li>
<p>可转化为非线性最小二乘问题</p>
<div class="arithmatex">\[x^*=\arg\min_x\sum_{i=1}^k\|f_i(x)\|^2\]</div>
<p><span class="arithmatex">\(x\)</span> 为参数向量，<span class="arithmatex">\(f(x)=[f_1(x),\ldots,f_k(x)]\)</span> 为三维重建的重投影误差向量</p>
</li>
</ul>
</li>
<li>
<p>Levenberg-Marquardt (LM) 算法</p>
<ul>
<li>是一种流行的非线性最小二乘解算方法</li>
<li>
<p>基础公式</p>
<p><span class="arithmatex">\(J(x)\)</span>  为 <span class="arithmatex">\(f(x)\)</span> 的 Jacobian 矩阵，每次 LM 算法的迭代都在求解以下线性最小二乘问题</p>
<div class="arithmatex">\[ \delta^*=\arg \min_\delta\|J(x)\delta+f(x)\|^2+\lambda\|D(x)\delta\|^2 \]</div>
<p>如果 <span class="arithmatex">\(\|f(x+\delta^*)\|&lt;\|f(x)\|\)</span> ，则进行更新<span class="arithmatex">\(x\leftarrow x+\delta^*\)</span>
<span class="arithmatex">\(D(x)\)</span> 是非负对角矩阵，通常是 <span class="arithmatex">\(J(x)^{T}J(x)\)</span> 对角元素的平方根<span class="arithmatex">\(\lambda\)</span> 是控制正则化强度的非负参数。正则化是为了保证算法收敛<span class="arithmatex">\(\lambda\)</span> 的值由 <span class="arithmatex">\(J(x)\)</span> 对 <span class="arithmatex">\(f(x)\)</span> 的估计近似程度决定。
求解上式等效于求解以下法方程：</p>
<div class="arithmatex">\[(J^{T}J+\lambda D^{T}D)\delta=-J^{T}f\]</div>
<p><span class="arithmatex">\(H_{\lambda}=J{T}J+\lambda D^{T}D\)</span> 是熟知的增广 Hessian 矩阵    </p>
</li>
<li>
<p>未知参数分离形式</p>
<p>将未知参数向量分解为相机参数 <span class="arithmatex">\(x_c\)</span> 和点参数 <span class="arithmatex">\(x_p\)</span> 向量。并令 <span class="arithmatex">\(U=J_{c}^{T}J_{c}\)</span>，  <span class="arithmatex">\(V=J_{p}^{T}J_{p}\)</span>，  <span class="arithmatex">\(U_{\lambda}=U+\lambda D_{c}^{T}D_{c}\)</span>，  <span class="arithmatex">\(V_{\lambda}^{T}=V+\lambda D_{p}^{T}D_{p}\)</span>， <span class="arithmatex">\(W=J_{c}^{T}J_{p}\)</span>  则有</p>
<div class="arithmatex">\[\begin{bmatrix}U_\lambda&amp;W\\W^T&amp;V_\lambda\end{bmatrix}\begin{bmatrix}\delta_c\\\delta_p\end{bmatrix}=-\begin{bmatrix}J_c^Tf\\J_p^Tf\end{bmatrix}\]</div>
</li>
<li>
<p>Schur 补减少未知数</p>
<p><span class="arithmatex">\(U_{\lambda}\)</span> 和 <span class="arithmatex">\(V_{\lambda}\)</span> 是分块对角矩阵，用高斯消元法求解
<span class="arithmatex">\(<span class="arithmatex">\((U_\lambda-WV_\lambda^{-1}W^T)\delta_c=-J_c^Tf+WV_\lambda^{-1}J_p^Tf\)</span>\)</span>
<span class="arithmatex">\(S=U_{\lambda}-WV_{\lambda}^{-1}W^{T}\)</span> 就是 Schur 补
相应的，求解点参数向量</p>
<div class="arithmatex">\[\delta_{p}=-V_{\lambda}^{-1}(J_{p}^{T}f+W^{T}\delta_{c})\]</div>
<p><span class="arithmatex">\(S\)</span>  是对称正定矩阵，可以选择 Cholesky 分解法。但分解方法即使如 CHOLMOD 这类利用了 <span class="arithmatex">\(S\)</span>  的稀疏结构的解法，也很耗时间和空间，对于大型问题而言非常昂贵。</p>
</li>
</ul>
</li>
</ul>
<h3 id="21">2.1 预条件共轭梯度法<a class="headerlink" href="#21" title="Permanent link">¶</a></h3>
<ul>
<li>
<p>共轭梯度法（CG）是一种对称正定线性方程组 <span class="arithmatex">\(Ax=b\)</span> 的迭代解法。</p>
<ul>
<li>只涉及 <span class="arithmatex">\(Ap\)</span> 的结果，不需要 <span class="arithmatex">\(A\)</span>，可以在不显式在内存中构造矩阵 <span class="arithmatex">\(A\)</span> 的前提下解算线性方程组。</li>
</ul>
</li>
<li>
<p>针对方程 <span class="arithmatex">\((J^{T}J+\lambda D^{T}D)\delta=-J^{T}f\)</span> 有两种解法</p>
<ul>
<li>
<p>针对最小二乘的共轭梯度法（CG）
    已知 <span class="arithmatex">\(J\)</span> ，则 <span class="arithmatex">\(H_\lambda p\)</span> 很容易实现</p>
<div class="arithmatex">\[ H_{\lambda}p=J^{T}(Jp)+\lambda(D^{T}D)p \]</div>
<p>使用分块 Jacobi 预条件子加速共轭梯度法的收敛</p>
<div class="arithmatex">\[M_\lambda=\begin{bmatrix}U_\lambda&amp;0\\0&amp;V_\lambda\end{bmatrix}\]</div>
<p><span class="arithmatex">\(U_\lambda\)</span> 和  <span class="arithmatex">\(V_\lambda\)</span> 以及它们的逆都很容易在线性时间内计算。 
这种使用矩阵方向乘积的预条件共轭梯度法称为隐式 Hessian 算法</p>
</li>
<li>
<p>隐式 Schur 算法</p>
<p>在 Schur 补  <span class="arithmatex">\(S\)</span> 上使用共轭梯度法。<span class="arithmatex">\(S\)</span>  比 <span class="arithmatex">\(H\)</span> 更良态，因此共轭梯度法会更快地收敛。
利用 Schur 补计算 <span class="arithmatex">\(Sp_c\)</span> </p>
<div class="arithmatex">\[Sp_{c}=U_{\lambda}p_{c}-W(V_{\lambda}^{-1}(W^{T}p_{c}))\]</div>
<p>使用 <span class="arithmatex">\(M_{\lambda}=U_{\lambda}\)</span> 作为预条件子。
仿造前一种方法中不构造 <span class="arithmatex">\(H_\lambda\)</span> 进行共轭梯度法的思路，可以不构造 <span class="arithmatex">\(H_\lambda\)</span> 的昂贵的子矩阵 <span class="arithmatex">\(W\)</span> 和 <span class="arithmatex">\(W^{T}\)</span></p>
<div class="arithmatex">\[\left.Sp_{c}=J_{c}^{T}\left(J_{c}p_{c}-J_{p}\left(V_{\lambda}^{-1}(J_{p}^{T}\left(J_{c}p_{c}\right)\right)\right)\right)+\lambda D_{c}^{T}D_{c}p_{c}\]</div>
</li>
</ul>
</li>
<li>
<p>这两种方法本质上使用同样多的内存，相同一套 Jacobian 矩阵和向量乘积，以及类似迭代的计算复杂度。不仅不需要显式构造增广 Hessian 矩阵/ Schur 补，而且将复杂的分块稀疏矩阵和向量的乘法分解成了多个更简单，更易并行化的矩阵向量乘法。甚至在计算过程中不用存储矩阵 <span class="arithmatex">\(J\)</span>，而是在运算过程中就计算了它的元素。</p>
</li>
</ul>
<h2 id="3">3 并行实现<a class="headerlink" href="#3" title="Permanent link">¶</a></h2>
<ul>
<li>
<p>在 LM 算法中使用线性迭代解法，计算开销的主要来源</p>
<ol>
<li>计算重投影误差 <span class="arithmatex">\(f\)</span></li>
<li>计算 Jacobian 矩阵 <span class="arithmatex">\(J=[J_{c},J_{p}]\)</span></li>
<li>构造预条件矩阵 <span class="arithmatex">\(M_{\lambda}^{-1}\)</span></li>
<li>矩阵向量乘法 <span class="arithmatex">\(Jx=J_{c}x_{c}+J_{p}x_{p}\)</span></li>
<li>矩阵向量乘法 <span class="arithmatex">\(J^{T}y=[J_{c}^{T}y,J_{p}^{T}y]\)</span></li>
<li>矩阵向量乘法 <span class="arithmatex">\(M_{\lambda}^{-1}v\)</span></li>
</ol>
</li>
<li>
<p>计算开销评估</p>
<ul>
<li>计算 <span class="arithmatex">\(Jx\)</span> 和 <span class="arithmatex">\(J^{T}y\)</span> 花费时间最多，因为每次 CG 的迭代都需要计算。</li>
<li><span class="arithmatex">\(J\)</span> 和 <span class="arithmatex">\(M_{\lambda}^{-1}\)</span> 虽然很昂贵，但每次 LM 迭代只计算一次，所以相对并不重要</li>
<li><span class="arithmatex">\(Jx\)</span> 和 <span class="arithmatex">\(J^{T}y\)</span> 应当是优化的主要对象</li>
<li>
<p>需要注意的是，上述函数（将计算 <span class="arithmatex">\(f\)</span> 或 <span class="arithmatex">\(Jx\)</span> 等过程称为函数）可以通过将计算任务分为按照摄像机、按照点和按照测量进行线程并行化</p>
<ul>
<li>计算 <span class="arithmatex">\(f\)</span>、<span class="arithmatex">\(J\)</span> 和 <span class="arithmatex">\(Jx\)</span> 包括执行每个测量任务</li>
<li>而 <span class="arithmatex">\(J^Ty\)</span>、<span class="arithmatex">\(M^{−1}_\lambda\)</span> 和 <span class="arithmatex">\(M_{\lambda}^{-1}v\)</span> 包括执行每个摄像机和每个点的任务</li>
</ul>
</li>
</ul>
<p>与构造 <span class="arithmatex">\(H_\lambda\)</span> 或 <span class="arithmatex">\(S\)</span> 相比，这些函数可以并行化。
纯向量的并行化很容易，不作讨论。</p>
</li>
</ul>
<h3 id="31">3.1 相关工作<a class="headerlink" href="#31" title="Permanent link">¶</a></h3>
<p>GPU 并行化的工作已经有了广泛的研究关注。包括一些通用的库。如 nVidia 的稀疏矩阵向量乘法库、各种基于 GPU 的预条件共轭梯度法和预条件技术的工作。但是基于问题的结构来构建系统可以获得更好的性能。</p>
<p>在计算机视觉领域，许多算法已经迁移到 GPU 上，速度显著提高，包括特征检测、特征匹配和立体重建等。【6】中描述了基于多 GPU 的快速 SfM 系统，但是在该系统中，捆绑调整步骤仍然是在单线程 CPU 上执行的。</p>
<p>【11】采用了混合方法，在 GPU 和 CPU 上运行重叠的计算，其中 Hessian 矩阵和 Schur 补是在 GPU 上构建的。但对于大型问题（数千张或更多张图像），尤其是对于具有密集 Schur 补的社区照片集来说，这并不实际。即使有足够的内存，构建 Schur 补充仍然对于大规模问题来说太过昂贵。</p>
<h3 id="32">3.2 并行化准则<a class="headerlink" href="#32" title="Permanent link">¶</a></h3>
<ul>
<li>多核系统上开发高性能系统的问题<ul>
<li>处理器速度与从内存获取数据的速度不匹配</li>
<li>多线程的对内存的访问竞争</li>
</ul>
</li>
<li>为获得最佳性能的解决思路<ul>
<li>最大化处理器占用率</li>
<li>优化内存访问减少竞争</li>
</ul>
</li>
</ul>
<h4 id="321">3.2.1 矩阵存储<a class="headerlink" href="#321" title="Permanent link">¶</a></h4>
<p>采用块压缩稀疏行（BCSR）格式存储 <span class="arithmatex">\(J_C\)</span>，<span class="arithmatex">\(J_p\)</span> 和 <span class="arithmatex">\(J_c^T\)</span>（需要时）。根据 3D 点的 ID 对观测值进行分类，这就意味着 <span class="arithmatex">\(J_p\)</span> 是分块对角矩阵， <span class="arithmatex">\(J_p\)</span> 与 <span class="arithmatex">\(J_p^T\)</span> 有相同的 BCSR 表达</p>
<h3 id="33-cpu">3.3 CPU 并行化<a class="headerlink" href="#33-cpu" title="Permanent link">¶</a></h3>
<p>多核 CPU 通常可以同时运行数十个线程，并且可以利用多级 cache 访问大量 RAM。</p>
<h4 id="331">3.3.1 最大化处理器占用率<a class="headerlink" href="#331" title="Permanent link">¶</a></h4>
<p>现代 CPU 上的 SSE 功能通过使用单个指令处理 4 个浮点数或 2 个双精度数来提高处理器吞吐量</p>
<ul>
<li>加速简单的向量操作（如加法、乘法、范数和点积）变得容易</li>
<li>
<p>将相机参数的数量按 4 对齐</p>
<ul>
<li>虽然相机模型只有 7 个参数，但也使用 8-向量存储</li>
</ul>
</li>
<li>
<p>相机导数的乘法和加法可以通 SSE 指令进行</p>
</li>
<li>分配对齐数据可利用快速对齐内存加载和存储</li>
</ul>
<h4 id="332">3.3.2 优化内存访问模式<a class="headerlink" href="#332" title="Permanent link">¶</a></h4>
<ul>
<li>
<p>减少多个线程需要访问相同索引信息时的竞争，</p>
<ul>
<li>
<p>存储必要的索引结构，以使每个线程能够独立运行</p>
<ul>
<li><span class="arithmatex">\(J^Ty\)</span> 按相机分线程计算，访问每个相机的所有投影</li>
<li>按测量分线程运行，则需要对同一相机的不同测量进行独占访问</li>
</ul>
</li>
<li>
<p>存储数据的混排副本（如果可能的话），使频繁调用的函数具有连续的内存访问模式</p>
<ul>
<li>
<p><span class="arithmatex">\(J^Ty\)</span> 需要访问由相机拍摄的所有测量的 Jacobian 分块</p>
<ul>
<li>最好的方式是按照行分块顺序存储额外的 <span class="arithmatex">\(J^T_c\)</span> 副本，而不是按索引访问 <span class="arithmatex">\(J_c\)</span></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="34-gpu">3.4 GPU 并行化<a class="headerlink" href="#34-gpu" title="Permanent link">¶</a></h3>
<p>GPU 的核心很多，但内存较少。必须更谨慎地处理不同核心间的内存带宽竞争。</p>
<h4 id="341">3.4.1 最大化处理器占用率<a class="headerlink" href="#341" title="Permanent link">¶</a></h4>
<ul>
<li>
<p>GPU 在定义上是 SIMD</p>
<ul>
<li>nVidia 的 CUDA 将线程组织成线程块，进一步分为 32 个线程单位，称为 warp，它们本质上是 SIMD。</li>
</ul>
</li>
<li>
<p>实现 GPU 峰值内存带宽需要进行合并内存访问</p>
<ul>
<li>将相机参数和点参数按 4 对齐，以使相机参数和点参数的处理与 warp 大小对齐</li>
<li>在无法进行合并内存获取时，采用了使用 GPU 纹理内存作为缓存</li>
</ul>
</li>
<li>
<p>简单的程序可以在 GPU 上实现更高的占用率</p>
<ul>
<li>将问题变为每个参数一个线程或每个相机半个 warp（16 个线程）等方式。<del>而不是每个相机或每个点创建一个线程</del></li>
<li>
<p>使得同一相机/点的不同线程可以共用快速共享内存上的数据。</p>
<ul>
<li>使用 8 个线程反转 <span class="arithmatex">\(8\times8\)</span> 相机对角块矩阵。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="342">3.4.2 优化内存访问模式<a class="headerlink" href="#342" title="Permanent link">¶</a></h4>
<ul>
<li>将所有矩阵 <span class="arithmatex">\(J^T c\)</span>、<span class="arithmatex">\(J_c\)</span> 和 <span class="arithmatex">\(J_p\)</span> 以 BCSR 格式存储</li>
<li>允许函数 <span class="arithmatex">\(J_x\)</span>、<span class="arithmatex">\(J^T_y\)</span> 和 <span class="arithmatex">\(M^{−1} _\lambda\)</span> 连续获取 Jacobian 分块。</li>
<li>利用纹理获取和共享内存的块结构</li>
<li>计算并显式存储在各个线程之间进行聚合操作所需的索引，避免不同线程块之间的依赖关系</li>
<li>
<p>减小 GPU 算法的内存使用，使用 <span class="arithmatex">\(Jx\)</span>、<span class="arithmatex">\(J^Ty\)</span> 和 <span class="arithmatex">\(M^{−1} _\lambda\)</span> 的无矩阵版本（<span class="arithmatex">\(J\)</span> 和 <span class="arithmatex">\(M_\lambda\)</span> 中需要的元素实时计算）</p>
<ul>
<li>不仅节省空间，也更节省了时间</li>
<li>GPU 上的大量线程并行性竞争会存在空闲</li>
<li>最好读取可很好缓存的少量内存，并重新计算结果。</li>
<li>按以下优先级：<span class="arithmatex">\(J_p &gt; J^T c &gt; J_c\)</span> 指导内存分配</li>
</ul>
</li>
<li>
<p>LM 步骤的计算已经卸载到 GPU 上后，GPU 和 CPU 之间的内存传输会减少</p>
</li>
<li>对于小型和中型问题，内存争用并不是一个问题</li>
<li>预先计算并存储在 GPU 内存中的 <span class="arithmatex">\(J_p\)</span> 和 <span class="arithmatex">\(J_c\)</span>，计算 <span class="arithmatex">\(J^T_y\)</span> 更快</li>
</ul>
<h2 id="4">4 准确度<a class="headerlink" href="#4" title="Permanent link">¶</a></h2>
<ul>
<li>
<p>经过一些小心处理，可以使用单精度计算而不会在数值上有明显损失</p>
<ul>
<li>
<p>预处理数据归一化步骤，改善 Jacobian 值的分布</p>
<ul>
<li>尺度为 <span class="arithmatex">\(\dfrac{F}{z^2}\)</span> ，<span class="arithmatex">\(F\)</span> 是相机的焦距，<span class="arithmatex">\(z\)</span> 是相机中的 3D 点的深度</li>
<li>进行缩放，控制 <span class="arithmatex">\(F\)</span> 和 <span class="arithmatex">\(\dfrac{1}{z}\)</span> 的值在有效范围中，使 Jacobian 矩阵更良态</li>
<li>处理步骤 （<span class="arithmatex">\(C_n\)</span> 为正则化参数，取 0.5）</li>
<li>找到中值 <span class="arithmatex">\(F_m = \mathrm{median}\{F\}\)</span> ， <span class="arithmatex">\(z_m = \mathrm{median}\{z\}\)</span> </li>
<li>把所有的焦距和测量值缩放 <span class="arithmatex">\(\dfrac{C_n}{F_m}\)</span> </li>
<li>把所有的平移值和 3D 点缩放 <span class="arithmatex">\(\dfrac{1}{z_mC_n}\)</span> </li>
</ul>
</li>
<li>
<p>把 Jacobian 的按 <span class="arithmatex">\(H_0\)</span> 对角元素的平方根缩放（<span class="arithmatex">\(H_0\)</span> 为初始增广 Hessian）</p>
</li>
</ul>
</li>
</ul>
<h2 id="5">5 实验<a class="headerlink" href="#5" title="Permanent link">¶</a></h2>
<h3 id="51">5.1 结果<a class="headerlink" href="#51" title="Permanent link">¶</a></h3>
<ul>
<li>
<p>算法的 GPU 实现速度提高了 10 到 30 倍，多线程 CPU 实现速度提高了约 5 到 10 倍</p>
<ul>
<li>速度提升在各种问题大小和问题稀疏性上都是一致的</li>
<li>尽管系统设计和优化工作重点在大规模问题上，但系统在小型和中型问题上表现同样出色</li>
</ul>
</li>
<li>
<p>GPU 版本和 CPU 版本之间的速度比在中等大小的问题上最高</p>
<ul>
<li>似乎随着问题规模的增大，访问 GPU 内存的成本在增加</li>
<li>由于 GPU 上全局纹理缓存的尺寸有限</li>
</ul>
</li>
<li>
<p>与隐式 hessian 相比，隐式 schur 的 LM 步骤成本更高，但由于其更好的预条件行为，隐式 schur 在每个 LM 迭代中的收敛性更好。</p>
</li>
<li>即使结果是在高端的 Tesla GPU 上得出的，我们也可以期望在消费级 GPU 上获得类似的性能</li>
</ul>
<h2 id="6">6 结论<a class="headerlink" href="#6" title="Permanent link">¶</a></h2>
<ul>
<li>
<p>提出了在当前可用的 CPU 和 GPU 上运行的捆绑调整问题的多核解决方案。</p>
<ul>
<li>这些系统可以比现有系统提供 10 倍到 30 倍的速度提升</li>
<li>同时减少了内存使用量。</li>
</ul>
</li>
<li>
<p>实现方法</p>
<ul>
<li>通过将 PCG 迭代中使用的矩阵向量乘法小心地重组为易于并行化的操作。</li>
<li>这种重组还为无矩阵实现打开了大门，从而大大降低了内存消耗和执行时间。</li>
<li>我当与适当的规范化相结合时，单精度算术可以提供与基于双精度的求解器可比的数值性能，同时进一步降低内存和时间成本。</li>
</ul>
</li>
<li>
<p>展望</p>
<ul>
<li>提出的策略可以应用于计算机视觉和其他领域的其他大规模优化问题。</li>
<li>希望进一步提高我们的单精度求解器的数值稳定性</li>
<li>在 GPU 上尝试双精度算术</li>
<li>将这项工作移植到非 nVidia 平台</li>
<li>未来工作的一个有趣方向是创建一个类似 FFTW【7】或 ATLAS【14】的框架，用于在编译时或运行时自动调整系统的参数。 </li>
</ul>
</li>
</ul>
<h2 id="_1">参考文献<a class="headerlink" href="#_1" title="Permanent link">¶</a></h2>
<details class="info">
<summary>References</summary>
<p>【1】 S. Agarwal, N. Snavely, S. Seitz, and R. Szeliski. Bundle adjustment in the large. In ECCV10, pages II: 29–42, 2010. 3057, 3058, 3059, 3062, 3063</p>
<p>【2】 S. Agarwal, N. Snavely, I. Simon, S. M. Seitz, and R. Szeliski. Building Rome in a day. In ICCV, 2009. 3057, 3064</p>
<p>【3】 N. Bell and M. Garland. Implementing sparse matrix-vector multiplication on throughput-oriented processors. In SC ’09, pages 1–11, 2009. 3059, 3061</p>
<p>【4】 M. Byrod and K. Astrom. Conjugate gradient bundle adjustment. In ECCV10, pages II: 114–127, 2010. 3058</p>
<p>【5】 Y. Chen, T. Davis, W. Hager, and S. Rajamanickam. Algorithm 887: CHOLMOD, Supernodal Sparse Cholesky Factorization and Update/Downdate. TOMS, 35(3), 2008. 3058</p>
<p>【6】 J. Frahm, P. Fite Georgel, D. Gallup, T. Johnson, R. Raguram, C. Wu, Y. Jen, E. Dunn, B. Clipp, S. Lazebnik, and M. Pollefeys. Building rome on a cloudless day. In ECCV10, pages IV: 368–381, 2010. 3057, 3059</p>
<p>【7】 M. Frigo and S. G. Johnson. The design and implementation of FFTW3. Proc. of the IEEE, 93(2):216–231, 2005. 3064</p>
<p>【8】 Y. Jeong, D. Nister, D. Steedly, R. Szeliski, and I. Kweon. Pushing the envelope of modern methods for bundle adjustment. In CVPR10, pages 1474–1481, 2010. 3058</p>
<p>【9】 R. Li and Y. Saad. GPU-accelerated preconditioned iterative linear solvers,. Technical Report UMSI-2010-xx3, Minnesota Supercomputer Institute, University of Minnesota, 2010. 3059</p>
<p>【10】 J. Nocedal and S. Wright. Numerical optimization. Springer, 2000. 3058</p>
<p>【11】 S. C. Shubham Gupta and P.J.Narayanan. Practical time bundle adjustment for 3d reconstruction on gpu. In ECCV Workshop on Computer Vision on GPUs, 2010. 3059</p>
<p>【12】 L. Trefethen and D. Bau. Numerical linear algebra. SIAM, 1997. 3058</p>
<p>【13】 B. Triggs, P. McLauchlan, H. R.I, and A. Fitzgibbon. Bundle Adjustment - A modern synthesis. In Vision Algorithms’99, pages 298–372, 1999. 3057</p>
<p>【14】 R. C. Whaley and A. Petitet. Minimizing development and maintenance costs in supporting persistently optimized BLAS. Software: Practice and Experience, 35(2):101–121, February 2005. 3064</p>
</details>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            回到页面顶部
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.code.annotate", "content.tooltips", "content.tabs.link", "content.code.copy", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.78eede0e.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.zerolacqua.top/npm/mathjax/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/d3@7/dist/d3.min.js"></script>
      
        <script src="https://unpkg.com/markmap-lib@0.15.3/dist/browser/index.js"></script>
      
        <script src="https://unpkg.com/markmap-view@0.15.3/dist/browser/index.js"></script>
      
    
  </body>
</html>